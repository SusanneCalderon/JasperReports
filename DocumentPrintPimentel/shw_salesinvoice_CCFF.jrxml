<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.5.1.final using JasperReports Library version 6.5.1  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Print_CreditoFiscal" language="groovy" pageWidth="541" pageHeight="527" columnWidth="501" leftMargin="20" rightMargin="20" topMargin="0" bottomMargin="0" uuid="86457a4d-4047-4529-a279-6338a76d8b91">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="131"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="GegasaPROD-2019"/>
	<subDataset name="DSHeader" uuid="5cbb76a7-49bb-45cc-8f6f-644fdaa37ab2">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="GegasaPROD-2019"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="RECORD_ID" class="java.lang.Integer"/>
		<queryString>
			<![CDATA[select (name) as name,bpvalue as bpvalue,
(street) as street,
(colonia) as colonia,
(municipio) as municipio,
(city) as city,
(paymentterm) as paymentterm,
(bpdescription) as bpdescription,
dateinvoiced,
coalesce(name2, '') as name2,
(duns) as duns,
(naics) as naics,
(bptaxid) as bptaxid,
(description) as giro,
ventaext, ajenootros, totallines, grandtotal, taxiva, ventnosujeta, taxret, ajenopoliza,
ajenoalmacenaje, paydate, null as  refdocs, ventagravada,
(documentno) as documentno, documenttype
from shw_c_invoice_header_vt i
where c_invoice_id = $P{RECORD_ID}
and ad_language = 'es_SV']]>
		</queryString>
		<field name="name" class="java.lang.String"/>
		<field name="bpvalue" class="java.lang.String"/>
		<field name="street" class="java.lang.String"/>
		<field name="colonia" class="java.lang.String"/>
		<field name="municipio" class="java.lang.String"/>
		<field name="city" class="java.lang.String"/>
		<field name="paymentterm" class="java.lang.String"/>
		<field name="bpdescription" class="java.lang.String"/>
		<field name="dateinvoiced" class="java.sql.Timestamp"/>
		<field name="name2" class="java.lang.String"/>
		<field name="duns" class="java.lang.String"/>
		<field name="naics" class="java.lang.String"/>
		<field name="bptaxid" class="java.lang.String"/>
		<field name="giro" class="java.lang.String"/>
		<field name="ventaext" class="java.math.BigDecimal"/>
		<field name="ajenootros" class="java.math.BigDecimal"/>
		<field name="totallines" class="java.math.BigDecimal"/>
		<field name="grandtotal" class="java.math.BigDecimal"/>
		<field name="taxiva" class="java.math.BigDecimal"/>
		<field name="ventnosujeta" class="java.math.BigDecimal"/>
		<field name="taxret" class="java.math.BigDecimal"/>
		<field name="ajenopoliza" class="java.math.BigDecimal"/>
		<field name="ajenoalmacenaje" class="java.math.BigDecimal"/>
		<field name="paydate" class="java.sql.Timestamp"/>
		<field name="refdocs" class="java.lang.String"/>
		<field name="ventagravada" class="java.math.BigDecimal"/>
		<field name="documentno" class="java.lang.String"/>
		<field name="documenttype" class="java.lang.String"/>
		<variable name="AmtInWords" class="java.lang.String">
			<variableExpression><![CDATA[org.compiere.util.Msg.getAmtInWords(org.compiere.util.Language.getLoginLanguage(), $F{grandtotal}.toString())
.concat(new java.lang.String(' dolares'))]]></variableExpression>
		</variable>
		<variable name="V_TOTALIVA" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{taxiva}.add($F{totallines} )]]></variableExpression>
		</variable>
		<variable name="Sum_ajenos" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ajenootros}.add($F{ajenoalmacenaje}).add($F{ajenopoliza})]]></variableExpression>
		</variable>
		<variable name="citycorrected" class="java.lang.String">
			<variableExpression><![CDATA[$F{municipio}.equals("") ?
$F{city}
:
$F{city}.concat(", ").concat($F{municipio})]]></variableExpression>
		</variable>
		<variable name="streetcorrected" class="java.lang.String">
			<variableExpression><![CDATA[$F{colonia}.equals("") ?
($F{street})
:
($F{street}).concat(", ").concat($F{colonia})]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="RECORD_ID" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select c_invoice_ID, linenetamt,(name) as name,
ventagravada, ventaex,ventanosuj,
priceactual,
qtyinvoiced,
cuantaajena,
(description) as description,
sorting, value



 from shw_c_invoice_linetax_vt_detail
where c_invoice_id = $P{RECORD_ID}
and ad_language = 'es_SV']]>
	</queryString>
	<field name="c_invoice_id" class="java.math.BigDecimal"/>
	<field name="linenetamt" class="java.math.BigDecimal"/>
	<field name="name" class="java.lang.String"/>
	<field name="ventagravada" class="java.math.BigDecimal"/>
	<field name="ventaex" class="java.math.BigDecimal"/>
	<field name="ventanosuj" class="java.math.BigDecimal"/>
	<field name="priceactual" class="java.math.BigDecimal"/>
	<field name="qtyinvoiced" class="java.math.BigDecimal"/>
	<field name="cuantaajena" class="java.math.BigDecimal"/>
	<field name="description" class="java.lang.String"/>
	<field name="sorting" class="java.lang.Integer"/>
	<field name="value" class="java.lang.String"/>
	<sortField name="sorting"/>
	<variable name="CuentaAjena" class="java.lang.String">
		<variableExpression><![CDATA[$F{cuantaajena}.longValue()==0? ""
:
" USD: ".concat(
org.compiere.util.Msg_SHW.getBigDecimalBlankSeperated(
$F{cuantaajena}))]]></variableExpression>
	</variable>
	<variable name="invoiceline" class="java.lang.String">
		<variableExpression><![CDATA[$F{description}.equals("") ?
$F{name}.concat(" ").concat($V{CuentaAjena})
:
$F{name}.concat(" ").concat($V{CuentaAjena}).concat("\r\n").concat($F{description})]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="136" splitType="Stretch">
			<componentElement>
				<reportElement x="3" y="0" width="498" height="136" uuid="791c7410-bf85-4666-817b-e339e2e253a6"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="DSHeader" uuid="5bae84c0-0185-4c80-9e61-ccef23b47dfb">
						<datasetParameter name="RECORD_ID">
							<datasetParameterExpression><![CDATA[$P{RECORD_ID}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:listContents height="136" width="498">
						<textField isBlankWhenNull="true">
							<reportElement x="48" y="54" width="314" height="12" uuid="d85c5fe5-bc3c-40c6-bfba-fa66bd5134d9"/>
							<textElement verticalAlignment="Top">
								<font fontName="SansSerif" size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{bpvalue}.concat(" ").concat(
$F{name})]]></textFieldExpression>
						</textField>
						<textField isBlankWhenNull="true">
							<reportElement x="82" y="76" width="288" height="12" uuid="cc19c2a0-a09e-49a2-8d83-c3177f1fad1d"/>
							<textElement verticalAlignment="Top">
								<font fontName="SansSerif" size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{streetcorrected}]]></textFieldExpression>
						</textField>
						<textField isBlankWhenNull="true">
							<reportElement x="82" y="88" width="210" height="12" uuid="a025269f-6ce4-4ac5-89ee-6de3eab7e682"/>
							<textElement verticalAlignment="Top">
								<font fontName="SansSerif" size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{citycorrected}]]></textFieldExpression>
						</textField>
						<textField isBlankWhenNull="true">
							<reportElement x="348" y="12" width="77" height="12" uuid="22222a73-8246-47ca-8221-6b082ba86d6c"/>
							<textElement>
								<font fontName="SansSerif" size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{paymentterm}]]></textFieldExpression>
						</textField>
						<textField pattern="dd-MMM-yyyy" isBlankWhenNull="true">
							<reportElement x="269" y="12" width="59" height="12" uuid="cfbbc0c8-f51a-4f0d-a6f2-dca46ab3e5d2"/>
							<textElement>
								<font fontName="SansSerif" size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{dateinvoiced}]]></textFieldExpression>
						</textField>
						<textField isBlankWhenNull="true">
							<reportElement x="435" y="91" width="63" height="25" uuid="a8fc4572-e274-41e8-bd97-415a97dec2fc"/>
							<textElement>
								<font fontName="SansSerif" size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{bpdescription}]]></textFieldExpression>
						</textField>
						<textField isBlankWhenNull="true">
							<reportElement x="455" y="79" width="43" height="12" uuid="3e53e01d-5db0-4edf-8bf8-8f16c1af70e1"/>
							<textElement>
								<font fontName="SansSerif" size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{duns}]]></textFieldExpression>
						</textField>
						<textField isBlankWhenNull="true">
							<reportElement x="58" y="100" width="86" height="12" uuid="135dbde9-8dad-40ec-b08d-def8457089bf"/>
							<textElement>
								<font fontName="SansSerif" size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{bptaxid}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement x="455" y="12" width="43" height="12" uuid="83b06476-66a6-4495-81f1-856a04a53fea"/>
							<textElement>
								<font size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{documenttype}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement x="455" y="24" width="43" height="12" uuid="cab10023-8142-4a1f-a415-3fe068bc53f2"/>
							<textElement>
								<font size="8"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{documentno}]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="365" y="0" width="48" height="13" uuid="c7883ecb-c685-47db-b4b6-319bc8bb3dcd"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ventanosuj}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="413" y="0" width="71" height="13" uuid="97ee4f28-45cb-4b65-bca1-2345e074827a"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{ventagravada})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="85" y="0" width="187" height="13" uuid="37a3ae2f-db12-41a2-9e22-4e0abcbbbced"/>
				<textElement>
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="320" y="0" width="45" height="13" uuid="5ae693ab-afa1-4c73-9d49-c7370498acdc"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ventaex}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="65" y="0" width="20" height="13" uuid="04b52bd1-7ea7-489a-8cd3-597e558ed245"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qtyinvoiced}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="3" y="0" width="62" height="13" uuid="b6dd5a12-87ca-4187-93c1-33188615fe1b"/>
				<textElement>
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{value}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="275" y="0" width="45" height="13" uuid="59af7c68-a2c4-4706-a185-7627fb22e634"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{priceactual}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="180">
			<componentElement>
				<reportElement positionType="FixRelativeToBottom" x="0" y="0" width="484" height="160" uuid="d9ab0195-fa67-4c7b-abc1-719cd9066c28"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="DSHeader" uuid="4ef3fb69-bee2-4a09-b356-f2053d6657a0">
						<datasetParameter name="RECORD_ID">
							<datasetParameterExpression><![CDATA[$P{RECORD_ID}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:listContents height="160" width="484">
						<textField pattern="#,##0.00" isBlankWhenNull="true">
							<reportElement x="384" y="60" width="100" height="12" uuid="b1648a03-f0d3-4437-923e-d44cf047c071"/>
							<textElement textAlignment="Right" verticalAlignment="Top">
								<font fontName="SansSerif" size="9" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{ventaext}]]></textFieldExpression>
						</textField>
						<textField pattern="#,##0.00" isBlankWhenNull="true">
							<reportElement x="384" y="0" width="100" height="12" uuid="11af6c17-428b-4724-9e88-8db82fd877bc">
								<printWhenExpression><![CDATA[java.lang.Boolean.valueOf(($F{totallines}.compareTo(new java.math.BigDecimal(0.0))!=0))]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font fontName="SansSerif" size="9" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{ventagravada}]]></textFieldExpression>
						</textField>
						<textField pattern="#,##0.00" isBlankWhenNull="true">
							<reportElement x="384" y="72" width="100" height="12" uuid="95db462e-a3f9-4eb6-9dcd-d3a1be4e4028"/>
							<textElement textAlignment="Right" verticalAlignment="Top">
								<font fontName="SansSerif" size="9" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA[($F{grandtotal})]]></textFieldExpression>
						</textField>
						<textField pattern="#,##0.00">
							<reportElement x="384" y="24" width="100" height="12" uuid="39df76ab-4d98-45cf-86d0-67f254a53574">
								<printWhenExpression><![CDATA[java.lang.Boolean.valueOf(($V{V_TOTALIVA}.compareTo(new java.math.BigDecimal(0.0))!=0))]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font fontName="SansSerif" size="9" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{ventagravada}.add( $F{taxiva} )]]></textFieldExpression>
						</textField>
						<textField pattern="#,##0.00" isBlankWhenNull="true">
							<reportElement x="384" y="12" width="100" height="12" uuid="b912bf45-4da8-497e-95d8-36409cc15701">
								<printWhenExpression><![CDATA[java.lang.Boolean.valueOf(($F{taxiva}.compareTo(new java.math.BigDecimal(0.0))!=0))]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font fontName="SansSerif" size="9" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{taxiva}]]></textFieldExpression>
						</textField>
						<textField pattern="#,##0.00" isBlankWhenNull="true">
							<reportElement x="384" y="48" width="100" height="12" uuid="e10f43d0-25c1-40b6-a564-da22c3913f47"/>
							<textElement textAlignment="Right" verticalAlignment="Top">
								<font fontName="SansSerif" size="9" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{ventnosujeta}]]></textFieldExpression>
						</textField>
						<textField pattern="#,##0.00" isBlankWhenNull="true">
							<reportElement x="384" y="36" width="100" height="12" uuid="48266dcb-5456-44b0-b7ca-0b76ea3f0d50"/>
							<textElement textAlignment="Right" verticalAlignment="Top">
								<font fontName="SansSerif" size="9" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{taxret}]]></textFieldExpression>
						</textField>
						<textField isStretchWithOverflow="true">
							<reportElement stretchType="RelativeToBandHeight" x="0" y="12" width="303" height="12" uuid="e90429b2-2d31-4996-88cc-0c865a59ca67"/>
							<textElement>
								<font fontName="SansSerif" size="8" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA[($V{AmtInWords})]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
		</band>
	</pageFooter>
</jasperReport>
